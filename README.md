# 나오미 퍼즐 게임 (Naomi Puzzle)

## 프로젝트 개요
- **게임명**: 나오미 퍼즐 (Naomi Puzzle)
- **장르**: 캐주얼 모바일 퍼즐 게임
- **주요 규칙**: 같은 색 블록 3개 이상을 맞춰 블록을 제거하고, 고양이를 구출하는 미션 달성형 게임
- **개발 환경**: HTML, CSS, JavaScript를 사용한 웹 기반 게임 (모바일 환경에 최적화)

## 개발 목표
- 누구나 쉽게 즐길 수 있는 직관적인 조작법
- 귀엽고 따뜻한 느낌의 아트 스타일
- TDD 및 Mock Test를 통한 안정적인 게임 플레이 제공

## 화면 구성

### 메인 화면 (타이틀 화면)
- 중앙 상단: '나오미 퍼즐' 게임 로고
- 중앙: '게임 시작' 버튼
- 하단: '설정' 버튼, '도움말' 버튼

### 게임 화면 (스테이지 플레이 화면)
- 상단: 현재 점수, 남은 이동 횟수(턴), 미션 아이콘 표시 영역
- 중앙: 게임 보드 (9×9 격자)
- 하단: 특별한 아이템이 있을 경우 표시되는 아이콘 영역

### 스테이지 클리어 / 게임 오버 화면
- **클리어 시**: '스테이지 클리어!' 문구, 얻은 별 개수(1~3개), '다음 스테이지' 버튼
- **게임 오버 시**: '게임 오버!' 문구, 최종 점수, '다시 하기' 버튼

## 개발 방법론

### TDD (테스트 주도 개발)
게임 기능을 만들기 전에, 그 기능이 제대로 작동하는지 확인하는 테스트 코드를 먼저 작성하여 버그를 최소화합니다.

### Mock Test (가짜 테스트)
아직 완성되지 않았거나, 외부 데이터가 필요한 기능을 테스트할 때 '가짜(Mock)' 데이터를 사용하여 전체적인 기능의 흐름을 미리 테스트합니다.

## 게임 특징

### 핵심 게임플레이
- **매칭 퍼즐**: 같은 색 블록 3개 이상을 연결하여 제거
- **미션 기반**: 고양이 캐릭터를 구출하는 것이 주요 목표
- **턴 제한**: 제한된 이동 횟수 내에 미션을 달성해야 함
- **9×9 격자**: 적당한 크기의 게임 보드로 전략적 사고 유도

### 기술적 특징
- **웹 기반**: HTML, CSS, JavaScript로 구현
- **모바일 최적화**: 터치 인터페이스에 최적화된 조작법
- **반응형 디자인**: 다양한 화면 크기에서 원활한 플레이
- **TDD 개발**: 테스트 주도 개발로 안정성 확보

## 개발 세부 계획

### 주요 기능별 개발 순서
1. **보드 생성 기능**
   - Test Case: 보드 크기, 블록 개수, 초기 블록 배열의 유효성 검사
2. **블록 이동 기능**
   - Test Case: 블록 교환의 정확성, 매칭되지 않았을 때 원위치 복귀 기능 검사
3. **블록 매칭 및 제거 기능**
   - Test Case: 가로/세로 매칭 제거, 특수 아이템(Mock Test) 생성 로직 검사
4. **블록 중력 기능**
   - Test Case: 블록 제거 후 빈 공간을 채우는 로직 검사
5. **고양이 구출 기능**
   - Test Case: 고양이 주변 블록 제거 시 구출 상태 변경(Mock Test) 검사
6. **미션 달성 및 게임 종료 기능**
   - Test Case: 미션 완료 조건, 턴 소진 시 게임 오버 로직 검사

## 기술 스택

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Testing**: Jest
- **Package Manager**: npm
- **Node.js**: 16.0.0 이상

## 프로젝트 구조

### 📁 목표 구조 (개발 완료 후)
```
puzzle_game/
├── src/                    # 소스 코드
│   ├── js/                # JavaScript 모듈
│   │   ├── game.js        # 게임 로직
│   │   ├── board.js       # 보드 관리
│   │   ├── blocks.js      # 블록 관리
│   │   └── ui.js          # UI 관리
│   ├── css/               # 스타일시트
│   │   └── style.css      # 메인 스타일
│   └── index.html         # 메인 HTML
├── tests/                 # 테스트 파일
│   ├── game.test.js       # 게임 로직 테스트
│   ├── board.test.js      # 보드 테스트
│   └── blocks.test.js     # 블록 테스트
├── .cursor/
│   └── rules.mdc          # 프로젝트 개발 규칙
├── package.json           # 프로젝트 설정
├── jest.config.js         # Jest 설정
└── README.md             # 프로젝트 문서
```

## 설치 및 실행

### 1. 프로젝트 클론
```bash
git clone [repository-url]
cd puzzle_game
```

### 2. 의존성 설치
```bash
npm install
```

### 3. 개발 서버 실행
```bash
# 웹 서버 실행
npm start
# 또는
python -m http.server 8000

# 브라우저에서 http://localhost:8000 접속
```

### 4. 테스트 실행
```bash
# 모든 테스트 실행
npm test

# 특정 테스트 파일 실행
npm test -- game.test.js

# 테스트 커버리지 확인
npm run test:coverage
```

## 게임 규칙 상세

### 블록 타입
- **일반 블록**: 6가지 색상 (빨강, 파랑, 초록, 노랑, 보라, 주황)
- **특수 블록**: 
  - 폭탄 블록: 주변 3×3 영역 제거
  - 번개 블록: 가로/세로 한 줄 제거
  - 별 블록: 같은 색 블록 모두 제거

### 점수 계산
- **3개 매칭**: 100점
- **4개 매칭**: 300점
- **5개 이상**: 500점
- **연쇄 매칭**: 보너스 점수 (×1.5)
- **특수 아이템 사용**: 추가 보너스

### 미션 시스템
- **고양이 구출**: 고양이 주변 블록 제거
- **점수 달성**: 목표 점수 달성
- **턴 제한**: 제한된 이동 횟수 내 완료

## 개발 진행 상황

### ✅ 완료된 기능
- [ ] 프로젝트 초기 설정
- [ ] HTML 기본 구조
- [ ] CSS 스타일링
- [ ] JavaScript 모듈 구조
- [ ] Jest 테스트 환경

### 🚧 진행 중인 작업
- [ ] 보드 생성 기능 개발
- [ ] 블록 이동 기능 개발
- [ ] 매칭 시스템 개발

### 📋 예정된 작업
- [ ] 중력 효과 구현
- [ ] 고양이 구출 기능
- [ ] UI/UX 완성
- [ ] 사운드 효과 추가

## 기여 가이드

### 코드 스타일
- ES6+ 문법 사용
- 함수/변수명은 명확하고 설명적으로 작성
- 주석은 한국어로 작성
- JSDoc 활용

### 테스트 작성
- 모든 새 기능에 대해 테스트 코드 작성
- 테스트 함수명: `test_기능명_상황_예상결과`
- Mock 객체로 외부 의존성 제거

### 이슈 리포트
- 버그 리포트 시 재현 단계 포함
- 기능 요청 시 상세한 설명 제공
- 라벨을 적절히 사용하여 분류

## 라이선스
이 프로젝트는 MIT 라이선스 하에 배포됩니다.
