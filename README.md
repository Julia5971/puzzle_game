# 나오미 퍼즐 게임 (Naomi Puzzle)

## 프로젝트 개요
- **게임명**: 나오미 퍼즐 (Naomi Puzzle)
- **장르**: 캐주얼 모바일 퍼즐 게임
- **주요 규칙**: 같은 색 블록 3개 이상을 맞춰 블록을 제거하고, 고양이를 구출하는 미션 달성형 게임
- **개발 환경**: HTML, CSS, JavaScript를 사용한 웹 기반 게임 (모바일 환경에 최적화)

## 개발 목표
- 누구나 쉽게 즐길 수 있는 직관적인 조작법
- 귀엽고 따뜻한 느낌의 아트 스타일
- TDD 및 Mock Test를 통한 안정적인 게임 플레이 제공

## 화면 구성

### 메인 화면 (타이틀 화면)
- 중앙 상단: '나오미 퍼즐' 게임 로고
- 중앙: '게임 시작' 버튼
- 하단: '설정' 버튼, '도움말' 버튼

### 게임 화면 (스테이지 플레이 화면)
- 상단: 현재 점수, 남은 이동 횟수(턴), 미션 아이콘 표시 영역
- 중앙: 게임 보드 (9×9 격자)
- 하단: 특별한 아이템이 있을 경우 표시되는 아이콘 영역

### 스테이지 클리어 / 게임 오버 화면
- **클리어 시**: '스테이지 클리어!' 문구, 얻은 별 개수(1~3개), '다음 스테이지' 버튼
- **게임 오버 시**: '게임 오버!' 문구, 최종 점수, '다시 하기' 버튼

## 개발 방법론

### TDD (테스트 주도 개발)
게임 기능을 만들기 전에, 그 기능이 제대로 작동하는지 확인하는 테스트 코드를 먼저 작성하여 버그를 최소화합니다.

### Mock Test (가짜 테스트)
아직 완성되지 않았거나, 외부 데이터가 필요한 기능을 테스트할 때 '가짜(Mock)' 데이터를 사용하여 전체적인 기능의 흐름을 미리 테스트합니다.

## 게임 특징

### 핵심 게임플레이
- **매칭 퍼즐**: 같은 색 블록 3개 이상을 연결하여 제거
- **미션 기반**: 고양이 캐릭터를 구출하는 것이 주요 목표
- **턴 제한**: 제한된 이동 횟수 내에 미션을 달성해야 함
- **9×9 격자**: 적당한 크기의 게임 보드로 전략적 사고 유도

### 기술적 특징
- **웹 기반**: HTML, CSS, JavaScript로 구현
- **모바일 최적화**: 터치 인터페이스에 최적화된 조작법
- **반응형 디자인**: 다양한 화면 크기에서 원활한 플레이
- **TDD 개발**: 테스트 주도 개발로 안정성 확보

## 기술 스택

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Testing**: Jest
- **Package Manager**: npm
- **Node.js**: 16.0.0 이상

## 📁 프로젝트 구조

```
puzzle_game/
├── src/
│   ├── components/        # 게임 컴포넌트들
│   │   ├── GameBoard.js   # 게임 보드 컴포넌트
│   │   ├── Block.js       # 블록 컴포넌트
│   │   └── UI.js          # UI 컴포넌트
│   ├── styles/
│   │   ├── main.css       # 메인 스타일
│   │   └── components.css # 컴포넌트 스타일
│   ├── utils/             # 유틸리티 함수들
│   │   └── helpers.js
│   └── index.html         # 진입점
├── tests/
│   ├── components/       # 컴포넌트 테스트
│   └── utils/            # 유틸리티 테스트
├── package.json           # 프로젝트 설정
├── jest.config.js         # Jest 설정
└── README.md             # 프로젝트 문서
```

## 🚀 다음 작업 안내

### 📋 1단계: 파일 내용 작성 (현재 단계)

**지금 바로 시작할 작업들:**

1. **HTML 내용 작성** (`src/index.html`)
2. **CSS 스타일 작성** (`src/styles/main.css`, `src/styles/components.css`)
3. **JavaScript 모듈 작성** (`src/components/*.js`, `src/utils/helpers.js`, `src/main.js`)

### 🎯 2단계: 테스트 작성

1. **의존성 설치**: `npm install`
2. **테스트 파일 생성**: 각 컴포넌트별 테스트
3. **테스트 실행**: `npm test`

### 📝 3단계: 커밋 및 푸시

1. **README.md 업데이트 커밋**
2. **파일 내용 작성 커밋**
3. **테스트 작성 커밋**

## 🎯 지금 바로 시작할 작업

**1단계부터 차근차근 진행하겠습니다:**

1. **HTML 기본 구조 작성** ← **지금 여기**
2. **CSS 스타일 작성**
3. **JavaScript 모듈 작성**

**지금 바로 `src/index.html`에 HTML 내용을 작성하시겠습니까?**

그 다음에는 CSS 파일들부터 차례대로 작성하겠습니다!

## 게임 규칙 상세

### 블록 타입
- **일반 블록**: 6가지 색상 (빨강, 파랑, 초록, 노랑, 보라, 주황)
- **특수 블록**: 
  - 폭탄 블록: 주변 3×3 영역 제거
  - 번개 블록: 가로/세로 한 줄 제거
  - 별 블록: 같은 색 블록 모두 제거

### 점수 계산
- **3개 매칭**: 100점
- **4개 매칭**: 300점
- **5개 이상**: 500점
- **연쇄 매칭**: 보너스 점수 (×1.5)
- **특수 아이템 사용**: 추가 보너스

### 미션 시스템
- **고양이 구출**: 고양이 주변 블록 제거
- **점수 달성**: 목표 점수 달성
- **턴 제한**: 제한된 이동 횟수 내 완료

## 개발 진행 상황

### ✅ 완료된 기능
- [x] 프로젝트 초기 설정
- [x] HTML 기본 구조
- [x] CSS 스타일링
- [x] JavaScript 모듈 구조
- [x] Jest 테스트 환경
- [x] 폴더 구조 생성
- [x] 기본 파일 생성
- [x] **게임 보드 렌더링 문제 해결** (2025-09-20)
- [x] **CSS 중복 스타일 제거**
- [x] **반응형 디자인 최적화**

### 🚧 진행 중인 작업
- [ ] 파일 내용 작성 (HTML, CSS, JavaScript)
- [ ] 테스트 코드 작성
- [ ] 의존성 설치

### 📋 예정된 작업
- [ ] 보드 생성 기능 개발
- [ ] 블록 이동 기능 개발
- [ ] 매칭 시스템 개발
- [ ] 중력 효과 구현
- [ ] 고양이 구출 기능
- [ ] UI/UX 완성
- [ ] 사운드 효과 추가

## 설치 및 실행

### 1. 프로젝트 클론
```bash
git clone [repository-url]
cd puzzle_game
```

### 2. 의존성 설치
```bash
npm install
```

### 3. 개발 서버 실행
```bash
# 웹 서버 실행
npm start
# 또는
python -m http.server 8000

# 브라우저에서 http://localhost:8000 접속
```

### 4. 테스트 실행
```bash
# 모든 테스트 실행
npm test

# 특정 테스트 파일 실행
npm test -- game.test.js

# 테스트 커버리지 확인
npm run test:coverage
```

## 기여 가이드

### 코드 스타일
- ES6+ 문법 사용
- 함수/변수명은 명확하고 설명적으로 작성
- 주석은 한국어로 작성
- JSDoc 활용

### 테스트 작성
- 모든 새 기능에 대해 테스트 코드 작성
- 테스트 함수명: `test_기능명_상황_예상결과`
- Mock 객체로 외부 의존성 제거

### 이슈 리포트
- 버그 리포트 시 재현 단계 포함
- 기능 요청 시 상세한 설명 제공
- 라벨을 적절히 사용하여 분류

## 라이선스
이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## MVP (Minimum Viable Product) 전략

### 🎯 MVP 목표
**최소한의 기능으로 게임의 핵심 경험을 제공하는 버전을 먼저 완성**

### 📋 MVP 기능 범위

#### ✅ MVP 1단계 (핵심 기능)
- [x] 프로젝트 기본 구조
- [x] **9×9 게임 보드 생성** ✅
- [x] **6가지 색상 블록 배치** ✅
- [x] **블록 클릭 및 선택 기능** ✅
- [x] **인접 블록 교환 기능** ✅
- [ ] **3개 이상 매칭 검사**
- [ ] **매칭된 블록 제거**
- [ ] **기본 점수 시스템**

#### 🚀 MVP 2단계 (게임 완성)
- [ ] **중력 효과 (블록 낙하)**
- [ ] **턴 제한 시스템**
- [ ] **게임 종료 조건**
- [ ] **기본 UI 완성**

#### 🚀 MVP 3단계 (경험 향상)
- [ ] **고양이 캐릭터 추가**
- [ ] **고양이 구출 미션**
- [ ] **애니메이션 효과**
- [ ] **사운드 효과**

### 🎯 MVP 개발 원칙

#### 1. **기능 우선순위**

```
핵심 게임플레이 > UI/UX > 부가 기능
```

#### 2. **단계별 검증**
- **MVP 1단계**: 게임의 기본 매커니즘 작동 확인
- **MVP 2단계**: 완전한 게임 루프 완성
- **MVP 3단계**: 사용자 경험 최적화

#### 3. **빠른 피드백**
- 각 MVP 단계마다 테스트 및 검증
- 사용자 피드백 수집
- 필요시 기능 범위 조정

### 📊 MVP 성공 기준

#### MVP 1단계 성공 기준
- [x] 게임 보드가 정상적으로 생성됨 ✅
- [x] 블록 선택 및 교환이 작동함 ✅
- [ ] 매칭 검사가 정확히 작동함
- [ ] 기본 점수 계산이 정상 작동함

#### MVP 2단계 성공 기준
- [ ] 완전한 게임 루프가 작동함
- [ ] 턴 제한 시스템이 정상 작동함
- [ ] 게임 종료 조건이 정확함
- [ ] 사용자가 게임을 끝까지 플레이할 수 있음

#### MVP 3단계 성공 기준
- [ ] 고양이 구출 미션이 작동함
- [ ] 시각적/청각적 피드백이 충분함
- [ ] 사용자가 재미있게 플레이할 수 있음
- [ ] 모바일 환경에서 원활히 작동함

### 🚀 MVP 개발 로드맵

```
Week 1: MVP 1단계 (핵심 기능) ✅
├── 게임 보드 생성 ✅
├── 블록 시스템 ✅
├── 매칭 시스템 ← 현재 진행 중
└── 기본 점수

Week 2: MVP 2단계 (게임 완성)
├── 중력 효과
├── 턴 제한
├── 게임 종료
└── UI 완성

Week 3: MVP 3단계 (경험 향상)
├── 고양이 미션
├── 애니메이션
├── 사운드
└── 최종 테스트
```

## 🎯 MVP 적용된 개발 진행 상황

기존 개발 진행 상황도 MVP 기준으로 업데이트하겠습니다:

```markdown
## 개발 진행 상황 (MVP 기준)

### ✅ MVP 1단계 - 완료된 기능
- [x] 프로젝트 초기 설정
- [x] HTML 기본 구조
- [x] CSS 스타일링
- [x] JavaScript 모듈 구조
- [x] Jest 테스트 환경
- [x] 폴더 구조 생성
- [x] 기본 파일 생성
- [x] **게임 보드 생성 기능** ✅
- [x] **블록 시스템 구현** ✅
- [x] **블록 선택 및 교환 기능** ✅

### 🚧 MVP 1단계 - 진행 중인 작업
- [ ] **매칭 시스템 구현** (핵심) ← 현재 진행 중
- [ ] **기본 점수 시스템** (핵심)

### 📋 MVP 2단계 - 예정된 작업
- [ ] 중력 효과 구현
- [ ] 턴 제한 시스템
- [ ] 게임 종료 처리
- [ ] UI/UX 완성

### 📋 MVP 3단계 - 향후 작업
- [ ] 고양이 구출 기능
- [ ] 애니메이션 효과
- [ ] 사운드 효과
- [ ] 모바일 최적화
```

## 🚀 MVP 기반 다음 작업

### 🎯 지금 바로 시작할 MVP 1단계 작업

**핵심 기능부터 차근차근 구현:**

1. **게임 보드 생성** ✅ **완료**
2. **블록 시스템** ✅ **완료**
3. **매칭 시스템** ← **현재 진행 중**
4. **기본 점수 시스템**

### 🎯 MVP 1단계 성공 기준

- [x] 9×9 게임 보드가 정상 생성됨 ✅
- [x] 6가지 색상 블록이 랜덤 배치됨 ✅
- [x] 블록 클릭 및 선택이 작동함 ✅
- [x] 인접 블록 교환이 가능함 ✅
- [ ] 3개 이상 매칭 검사가 정확함
- [ ] 매칭된 블록이 제거됨
- [ ] 기본 점수가 계산됨

**다음 단계: 매칭 시스템 구현**

MVP 방식으로 진행하면 **핵심 기능에 집중**하여 빠르게 작동하는 게임을 만들 수 있습니다!

### 🎯 MVP 장점

1. **빠른 검증**: 핵심 아이디어를 빠르게 검증
2. **리소스 효율**: 불필요한 기능 개발 방지
3. **사용자 피드백**: 조기 피드백으로 방향성 조정
4. **위험 최소화**: 큰 실패 위험을 줄임
5. **동기 부여**: 빠른 성과로 개발 동기 유지

## 최근 업데이트 (2025-09-20)

### 🎯 게임 보드 렌더링 문제 해결
- **문제**: 게임 보드가 화면에 표시되지 않음
- **원인**: CSS 중복 스타일 및 높이 설정 문제
- **해결**: 
  - `main.css`에서 중복된 게임 보드 스타일 제거
  - `components.css`에서 명시적 높이 설정 추가
  - 반응형 디자인으로 모바일/태블릿/데스크톱 최적화
- **결과**: 9×9 게임 보드가 정상적으로 표시됨

### 🎯 현재 상태
- ✅ 게임 보드 정상 렌더링
- ✅ 블록 선택 및 교환 기능 작동
- ✅ 반응형 디자인 적용
- �� 매칭 시스템 구현 필요

```

이제 변경사항을 커밋하고 푸시하겠습니다:

```bash
git add .
git commit -m "README.md 업데이트 - 게임 보드 렌더링 문제 해결 완료

- MVP 1단계 진행 상황 업데이트
- 게임 보드 렌더링 문제 해결 과정 문서화
- 다음 단계: 매칭 시스템 구현 안내
- 최근 업데이트 섹션 추가"
git push
```

## 3단계: 다음 작업 계획

규칙에 따라 다음 단계를 진행하겠습니다:

### 📋 다음 MVP 1단계 작업: 매칭 시스템 구현

**단계별 계획:**

1. **매칭 검사 함수 구현** - 3개 이상 연속 블록 찾기
2. **매칭된 블록 제거 기능** - 찾은 블록들을 제거
3. **점수 계산 시스템** - 매칭에 따른 점수 부여
4. **테스트 작성** - 각 기능별 테스트 코드 작성
5. **커밋 및 푸시** - 변경사항 저장

이제 매칭 시스템 구현을 시작하시겠습니까?
